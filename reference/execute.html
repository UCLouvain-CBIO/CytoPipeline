<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>executing CytoPipeline object — execute • CytoPipeline</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="executing CytoPipeline object — execute"><meta property="og:description" content="this function triggers the execution of the processing queues of
a CytoPipeline object.
First, the scale tranform processing queue is run, taking
the set of sample names as an implicit first input. At the end of the queue,
a scale transform List is assumed to be created.
Second, the flowFrame pre-processing queue, reapeatedly for each sample file.
The scale transform list generated in the previous step is taken as implicit
input, together with the initial sample file. At the end of the queue run, a
pre-processed flowFrame is assumed to be generated.
No change is made on the input CytoPipeline object, all results are stored in
the cache."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CytoPipeline</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/CytoPipeline.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Demo.html">Demonstration of the CytoPipeline R package suite functionalities</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/UCLouvain-CBIO/CytoPipeline/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>executing CytoPipeline object</h1>
    <small class="dont-index">Source: <a href="https://github.com/UCLouvain-CBIO/CytoPipeline/blob/HEAD/R/CytoPipeline-functions.R" class="external-link"><code>R/CytoPipeline-functions.R</code></a></small>
    <div class="hidden name"><code>execute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>this function triggers the execution of the processing queues of
a CytoPipeline object.
First, the scale tranform processing queue is run, taking
the set of sample names as an implicit first input. At the end of the queue,
a scale transform List is assumed to be created.
Second, the flowFrame pre-processing queue, reapeatedly for each sample file.
The scale transform list generated in the previous step is taken as implicit
input, together with the initial sample file. At the end of the queue run, a
pre-processed flowFrame is assumed to be generated.
No change is made on the input CytoPipeline object, all results are stored in
the cache.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">execute</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  rmCache <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  useBiocParallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">BiocParallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">bpparam</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  BPOPTIONS <span class="op">=</span> <span class="fu">BiocParallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/bpoptions.html" class="external-link">bpoptions</a></span><span class="op">(</span>packages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"flowCore"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  saveLastStepFF <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  saveFFSuffix <span class="op">=</span> <span class="st">"_preprocessed"</span>,</span>
<span>  saveFFFormat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fcs"</span>, <span class="st">"csv"</span><span class="op">)</span>,</span>
<span>  saveFFCsvUseChannelMarker <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  saveScaleTransforms <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>CytoPipeline object</p></dd>


<dt>path</dt>
<dd><p>base path, a subdirectory with name equal to the experiment will
be created to store the output data, in particular the experiment cache</p></dd>


<dt>rmCache</dt>
<dd><p>if TRUE, starts by removing the already existing cache
directory corresponding to the experiment</p></dd>


<dt>useBiocParallel</dt>
<dd><p>if TRUE, use BiocParallel for computation of the
sample file pre-processing in parallel (one file per worker at a time).
Note the BiocParallel function used is <code>bplapply()</code></p></dd>


<dt>BPPARAM</dt>
<dd><p>if <code>useBiocParallel</code> is TRUE, sets the BPPARAM back-end to
be used for the computation. If not provided, will use the top back-end on
the <code><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">BiocParallel::registered()</a></code> stack.</p></dd>


<dt>BPOPTIONS</dt>
<dd><p>if <code>useBiocParallel</code> is TRUE, sets the BPOPTIONS to be
passed to <code>bplapply()</code> function.
Note that if you use a <code>SnowParams</code> back-end, you need to specify all
the packages that need to be loaded for the different CytoProcessingStep
to work properly (visibility of functions). As a minimum,
the <code>flowCore</code> package needs to be loaded.
(hence the default <code>BPOPTIONS = bpoptions(packages = c("flowCore"))</code> )</p></dd>


<dt>saveLastStepFF</dt>
<dd><p>if TRUE, save the final result of the pre-processing,
for each file.
By convention, these output files are stored in
<code>path</code>/<code>x@experimentName</code>/output/, the file names used are the same
as the initial fcs file basenames, concatenated with <code>saveFFSuffix</code>,
and with file extension corresponding to <code>saveFFFormat</code>.</p></dd>


<dt>saveFFSuffix</dt>
<dd><p>FF file name suffix</p></dd>


<dt>saveFFFormat</dt>
<dd><p>either <code>fcs</code> or <code>csv</code></p></dd>


<dt>saveFFCsvUseChannelMarker</dt>
<dd><p>if TRUE (default), converts the channels
to the corresponding marker names (where the Marker is not NA).
This setting is only applicable to export in csv format.</p></dd>


<dt>saveScaleTransforms</dt>
<dd><p>if TRUE (default FALSE), save on disk
(in RDS format) the <code><a href="https://rdrr.io/pkg/flowCore/man/transformList-class.html" class="external-link">flowCore::transformList</a></code> object obtained after running
the scaleTransform processing queue. The file name is hardcoded to
<code>path</code>/<code>experimentName</code>/<code>RDS</code>/<code>scaleTransformList.rds</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>nothing</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### *** EXAMPLE 1: building CytoPipeline step by step *** ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rawDataDir</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"CytoPipeline"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">experimentName</span> <span class="op">&lt;-</span> <span class="st">"OMIP021_PeacoQC"</span></span></span>
<span class="r-in"><span><span class="va">sampleFiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">rawDataDir</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">rawDataDir</span>,</span></span>
<span class="r-in"><span>                                             pattern <span class="op">=</span> <span class="st">"Donor"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                             </span></span>
<span class="r-in"><span><span class="va">outputDir</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># main parameters : sample files and output files</span></span></span>
<span class="r-in"><span><span class="va">pipelineParams</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pipelineParams</span><span class="op">$</span><span class="va">experimentName</span> <span class="op">&lt;-</span> <span class="va">experimentName</span></span></span>
<span class="r-in"><span><span class="va">pipelineParams</span><span class="op">$</span><span class="va">sampleFiles</span> <span class="op">&lt;-</span> <span class="va">sampleFiles</span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span> <span class="fu"><a href="CytoPipeline.html">CytoPipeline</a></span><span class="op">(</span><span class="va">pipelineParams</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SCALE TRANSFORMATION STEPS ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"scale transform"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"flowframe_read"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"readSampleFiles"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                              whichSamples <span class="op">=</span> <span class="st">"all"</span>,</span></span>
<span class="r-in"><span>                              truncate_max_range <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                              min.limit <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>                          <span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"scale transform"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"remove_margins"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"removeMarginsPeacoQC"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>                     <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"scale transform"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"compensate"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"compensateFromMatrix"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>matrixSource <span class="op">=</span> <span class="st">"fcs"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"scale transform"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"flowframe_aggregate"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"aggregateAndSample"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                              nTotalEvents <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>                              seed <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span>                          <span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"scale transform"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"scale_transform_estimate"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"estimateScaleTransforms"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                              fluoMethod <span class="op">=</span> <span class="st">"estimateLogicle"</span>,</span></span>
<span class="r-in"><span>                              scatterMethod <span class="op">=</span> <span class="st">"linear"</span>,</span></span>
<span class="r-in"><span>                              scatterRefMarker <span class="op">=</span> <span class="st">"BV785 - CD3"</span></span></span>
<span class="r-in"><span>                          <span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### PRE-PROCESSING STEPS ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"flowframe_read"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"readSampleFiles"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                              truncate_max_range <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                              min.limit <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>                          <span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"remove_margins"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"removeMarginsPeacoQC"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"compensate"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"compensateFromMatrix"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>matrixSource <span class="op">=</span> <span class="st">"fcs"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">pipL</span>,</span></span>
<span class="r-in"><span>    whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        name <span class="op">=</span> <span class="st">"remove_debris"</span>,</span></span>
<span class="r-in"><span>        FUN <span class="op">=</span> <span class="st">"removeDebrisManualGate"</span>,</span></span>
<span class="r-in"><span>        ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            FSCChannel <span class="op">=</span> <span class="st">"FSC-A"</span>,</span></span>
<span class="r-in"><span>            SSCChannel <span class="op">=</span> <span class="st">"SSC-A"</span>,</span></span>
<span class="r-in"><span>            gateData <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">73615</span>, <span class="fl">110174</span>, <span class="fl">213000</span>, <span class="fl">201000</span>, <span class="fl">126000</span>,</span></span>
<span class="r-in"><span>                          <span class="fl">47679</span>, <span class="fl">260500</span>, <span class="fl">260500</span>, <span class="fl">113000</span>, <span class="fl">35000</span><span class="op">)</span></span></span>
<span class="r-in"><span>                   <span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"remove_dead_cells"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"removeDeadCellsManualGate"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                              FSCChannel <span class="op">=</span> <span class="st">"FSC-A"</span>,</span></span>
<span class="r-in"><span>                              LDMarker <span class="op">=</span> <span class="st">"L/D Aqua - Viability"</span>,</span></span>
<span class="r-in"><span>                              gateData <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">250000</span>, <span class="fl">250000</span>,</span></span>
<span class="r-in"><span>                                           <span class="fl">0</span>, <span class="fl">650</span>, <span class="fl">650</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>                          <span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="va">pipL</span>,</span></span>
<span class="r-in"><span>        whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            name <span class="op">=</span> <span class="st">"perform_QC"</span>,</span></span>
<span class="r-in"><span>            FUN <span class="op">=</span> <span class="st">"qualityControlPeacoQC"</span>,</span></span>
<span class="r-in"><span>            ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                preTransform <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                min_cells <span class="op">=</span> <span class="fl">150</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                max_bins <span class="op">=</span> <span class="fl">500</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                step <span class="op">=</span> <span class="fl">500</span>, <span class="co"># default,</span></span></span>
<span class="r-in"><span>                MAD <span class="op">=</span> <span class="fl">6</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                IT_limit <span class="op">=</span> <span class="fl">0.55</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                force_IT <span class="op">=</span> <span class="fl">150</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                peak_removal <span class="op">=</span> <span class="fl">0.3333</span>, <span class="co"># default</span></span></span>
<span class="r-in"><span>                min_nr_bins_peakdetection <span class="op">=</span> <span class="fl">10</span> <span class="co"># default</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="handlingProcessingSteps.html">addProcessingStep</a></span><span class="op">(</span><span class="va">pipL</span>,</span></span>
<span class="r-in"><span>                      whichQueue <span class="op">=</span> <span class="st">"pre-processing"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="CytoProcessingStep.html">CytoProcessingStep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          name <span class="op">=</span> <span class="st">"transform"</span>,</span></span>
<span class="r-in"><span>                          FUN <span class="op">=</span> <span class="st">"applyScaleTransforms"</span>,</span></span>
<span class="r-in"><span>                          ARGS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>                      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># execute pipeline, remove cache if existing with the same experiment name</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu">execute</span><span class="op">(</span><span class="va">pipL</span>, rmCache <span class="op">=</span> <span class="cn">TRUE</span>, path <span class="op">=</span> <span class="va">outputDir</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### running SCALE TRANSFORMATION processing steps ###</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [flowframe_aggregate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [scale_transform_estimate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor1.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_debris] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_dead_cells] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [perform_QC] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying PeacoQC method...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting quality control analysis for Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculating peaks</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> MAD analysis removed 16.54% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The algorithm removed 16.54% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [transform] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor2.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_debris] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_dead_cells] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [perform_QC] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying PeacoQC method...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting quality control analysis for Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculating peaks</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> MAD analysis removed 5.4% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The algorithm removed 5.4% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [transform] ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># re-execute as is without removing cache =&gt; all results found in cache!</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu">execute</span><span class="op">(</span><span class="va">pipL</span>, rmCache <span class="op">=</span> <span class="cn">FALSE</span>, path <span class="op">=</span> <span class="va">outputDir</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### running SCALE TRANSFORMATION processing steps ###</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [flowframe_aggregate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [scale_transform_estimate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor1.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_debris]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_dead_cells]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [perform_QC]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [transform]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor2.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_debris]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_dead_cells]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [perform_QC]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [transform]: found in cache!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### *** EXAMPLE 2: building CytoPipeline from JSON file *** ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jsonDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"CytoPipeline"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">jsonPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">jsonDir</span>, <span class="st">"pipelineParams.json"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pipL2</span> <span class="op">&lt;-</span> <span class="fu"><a href="CytoPipeline.html">CytoPipeline</a></span><span class="op">(</span><span class="va">jsonPath</span>, </span></span>
<span class="r-in"><span>                      experimentName <span class="op">=</span> <span class="va">experimentName</span>,</span></span>
<span class="r-in"><span>                      sampleFiles <span class="op">=</span> <span class="va">sampleFiles</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note we temporarily set working directory into package root directory</span></span></span>
<span class="r-in"><span><span class="co"># needed as json path mentions "./" path for sample files</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu">execute</span><span class="op">(</span><span class="va">pipL2</span>, rmCache <span class="op">=</span> <span class="cn">TRUE</span>, path <span class="op">=</span> <span class="va">outputDir</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### running SCALE TRANSFORMATION processing steps ###</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [flowframe_aggregate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [scale_transform_estimate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor1.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_doublets] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_debris] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [remove_dead_cells] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [perform_QC] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying PeacoQC method...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting quality control analysis for Donor1.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculating peaks</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> MAD analysis removed 30.75% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The algorithm removed 30.75% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 8 [transform] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE /__w/_temp/Library/CytoPipeline/extdata/Donor2.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing margins from file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Compensating file : Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_doublets] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_debris] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [remove_dead_cells] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [perform_QC] ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying PeacoQC method...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting quality control analysis for Donor2.fcs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculating peaks</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> MAD analysis removed 24.38% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The algorithm removed 24.38% of the measurements</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 8 [transform] ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### *** EXAMPLE 3: building CytoPipeline from cache (previously run) *** ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">experimentName</span> <span class="op">&lt;-</span> <span class="st">"OMIP021_PeacoQC"</span></span></span>
<span class="r-in"><span><span class="va">pipL3</span> <span class="op">&lt;-</span> <span class="fu"><a href="interactingWithCytoPipelineCache.html">buildCytoPipelineFromCache</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    experimentName <span class="op">=</span> <span class="va">experimentName</span>,</span></span>
<span class="r-in"><span>    path <span class="op">=</span> <span class="va">outputDir</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu">execute</span><span class="op">(</span><span class="va">pipL3</span>,</span></span>
<span class="r-in"><span>        rmCache <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>        path <span class="op">=</span> <span class="va">outputDir</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### running SCALE TRANSFORMATION processing steps ###</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [flowframe_aggregate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [scale_transform_estimate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE Donor1.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_doublets]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_debris]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [remove_dead_cells]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [perform_QC]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 8 [transform]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ### NOW PRE-PROCESSING FILE Donor2.fcs...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> #####################################################</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 1 [flowframe_read]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 2 [remove_margins]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 3 [compensate]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 4 [remove_doublets]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 5 [remove_debris]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 6 [remove_dead_cells]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 7 [perform_QC]: found in cache!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Proceeding with step 8 [transform]: found in cache!</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Philippe Hauchamps, Laurent Gatto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

